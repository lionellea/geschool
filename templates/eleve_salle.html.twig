{% extends 'template.html.twig' %}

{% block title %} <title>Eleves | liste</title> {% endblock %}

{% block hearder %}
<div class="pageheader">
                        <h3><i class="fa fa-home"></i>Accueil </h3>
                        <div class="breadcrumb-wrapper">
                            <span class="label">vous êtes ici:</span>
                            <ol class="breadcrumb">
                                <li> <a href="#"> Accueil </a> </li>
                                <li class="active"> Liste des élèves </li>
                            </ol>
                        </div>
                    </div>
			{% endblock %}

{% block body %}
<div id="page-content">
     <div class="panel">
                            <div class="panel-heading">
                                <h3 class="panel-title" style="text-align: center;">Classe :  > Liste des élèves {{ eleves[0].salle.libelle }}</h3>
                            </div>
                            <div class="panel-body">
                                <table id="studentTable" class="table table-striped table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Matricule</th>
                                            <th>Nom et prénom</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    {% if eleves | length  != 0 %}
                                    {% for eleve in eleves %}
                                            <tr>
                                            <td>{{ eleve.matricule}}</td>
                                            <td>{{ eleve.nom}} {{eleve.prenom}}</td>
                                            
                                            <td>
                                                    
                                                  {% if inscrits | length  != 0 %}
                                                       {% for inscrit in inscrits %}
                                                          {% if eleve.id != inscrit.eleve.id %}
                                                             <a class="btn btn-warning" title="Inscire" href="{{ path('inscrire', {'id': eleve.id}) }}"><i class="fa fa-user"></i></a>
                                                          {% endif %}
                                                       {% endfor %}
                                                  {% else %}
                                                   <a class="btn btn-warning" title="Inscire" href="{{ path('inscrire', {'id': eleve.id}) }}"><i class="fa fa-user"></i></a>
                                                  
                                                   {% endif %}
                                                   <a class="btn btn-success" title="éditer" href="{{ path('eleve_edit', { 'id': eleve.id }) }}"><i class="fa fa-edit"></i></a>
                                                    <a class="btn btn-danger" data-toggle="modal" data-target="#modal-default{{ eleve.id }}" title="Supprimer" ><i class="glyphicon glyphicon-corbeille" ></i></a>
                                                    <a class="btn btn-info " title="Détails"  href="{{ path('eleve_show', { 'id': eleve.id }) }}"><i class="fa fa-info-circle" ></i></a> 


                                            </td>
                                           
                                         </tr>
                                        
                                    {% endfor %}
                                    {% else %}
                                      <tr>
                                            <td colspan="3">Pas d'éléments disponibles</td>
                                        </tr>
                                    {% endif %}
                                        
                                    
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
 </div>
{% endblock %}

{% block javascript %}
    <script type="text/javascript">
        $("table#studentTable").DataTable();
    </script>
{% endblock %}
